<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Natasha Goodwin Yoga</title>
		<style>
		 * {
			 margin: 0;
			 padding: 0;
			 box-sizing: border-box;
		 }

		 body {
			 font-family: 'Cormorant Garamond', 'Georgia', serif;
			 background: linear-gradient(to bottom, #E5E6DC 0%, #f9f3ea 30%, #f5e8d8 60%, #f7efe3 100%);
			 min-height: 100vh;
			 display: flex;
			 justify-content: center;
			 align-items: center;
			 overflow-x: hidden;
		 }

		 :root {
			 --scale-factor: min(1vw, 1vh);
			 --content-scale: calc(var(--scale-factor) * 1);
			 --about-scale: min(1.2vw, 1.4vh);
		 }

		 .container {
			 position: relative;
			 width: 100%;
			 height: 100vh;
			 display: flex;
			 justify-content: center;
			 align-items: center;
			 overflow: hidden;
			 padding: 2vmin;
		 }

		 .site-name {
			 position: absolute;
			 top: clamp(1rem, 2.5vh, 2.5rem);
			 left: clamp(1rem, 2.5vw, 2.5rem);
			 z-index: 10;
			 line-height: 1.6;
			 text-align: center;
			 padding: clamp(0.4rem, 1.8vh, 1.8rem);
			 cursor: pointer;
			 transition: opacity 0.3s ease;
		 }

		 .site-name:hover {
			 opacity: 0.7;
		 }

		 .site-name .name {
			 font-family: 'Helvetica Neue', 'Arial', sans-serif;
			 font-size: clamp(0.75rem, 1.5vmin, 1.5rem);
			 font-weight: 300;
			 letter-spacing: clamp(2px, 0.4vmin, 4px);
			 text-transform: uppercase;
			 display: block;
			 color: #5a5550;
		 }

		 .site-name .yoga {
			 font-family: 'Helvetica Neue', 'Arial', sans-serif;
			 font-size: clamp(0.75rem, 1.5vmin, 1.5rem);
			 font-weight: 300;
			 letter-spacing: clamp(2px, 0.4vmin, 4px);
			 text-transform: uppercase;
			 display: block;
			 margin-top: 0.3rem;
			 color: #5a5550;
		 }

		 .sun-circle {
			 position: relative;
			 width: 96vmin;
			 height: 96vmin;
			 max-width: 96vh;
			 max-height: 96vh;
			 background: radial-gradient(circle,
			 rgba(255, 195, 75, 0.65) 0%,
			 rgba(255, 180, 60, 0.55) 25%,
			 rgba(250, 170, 55, 0.4) 50%,
			 rgba(245, 160, 50, 0.25) 70%,
			 rgba(240, 150, 45, 0.12) 85%,
			 rgba(235, 145, 40, 0) 100%);
			 border-radius: 50%;
			 display: flex;
			 flex-direction: column;
			 justify-content: center;
			 align-items: center;
			 z-index: 10;
			 transition: opacity 0.3s ease;
		 }

		 .sun-circle.hidden-by-modal {
			 opacity: 0;
			 pointer-events: none;
		 }

		 .site-name.hidden-by-modal {
			 opacity: 0;
			 pointer-events: none;
		 }

		 .welcome-text {
			 text-align: center;
			 margin-bottom: clamp(2.5rem, 5vmin, 5rem);
		 }

		 .welcome-text h1 {
			 font-size: clamp(1.8rem, 3.5vmin, 3.5rem);
			 color: #7d6f61;
			 font-weight: 300;
			 letter-spacing: clamp(1.5px, 0.3vmin, 3px);
			 line-height: 1.6;
			 margin-bottom: 0.5rem;
		 }

		 .nav-links {
			 display: flex;
			 flex-direction: row;
			 gap: clamp(2.5rem, 5vmin, 5rem);
			 align-items: center;
			 justify-content: center;
			 flex-wrap: wrap;
		 }

		 .nav-link {
			 text-decoration: none;
			 color: #8d7d6e;
			 font-size: clamp(1.2rem, 1.8vmin, 1.8rem);
			 letter-spacing: clamp(1.2px, 0.25vmin, 2.5px);
			 transition: all 0.3s ease;
			 font-weight: 400;
			 cursor: pointer;
		 }

		 .nav-link:hover {
			 color: #6b5d4f;
			 transform: translateY(-2px);
		 }

		 .page-modal {
			 position: fixed;
			 top: 0;
			 left: 0;
			 width: 100%;
			 height: 100%;
			 background: radial-gradient(circle at center,
			 rgba(255, 195, 75, 0.75) 0%,
			 rgba(255, 180, 60, 0.65) 15%,
			 rgba(250, 170, 55, 0.5) 30%,
			 rgba(245, 224, 200, 0.9) 50%,
			 rgba(249, 243, 234, 0.95) 70%,
			 rgba(245, 232, 216, 1) 100%);
			 z-index: 1001;
			 display: flex;
			 justify-content: center;
			 align-items: center;
			 padding: 2rem;
			 padding-top: 5rem;
			 overflow-y: auto;
			 opacity: 0;
			 visibility: hidden;
			 transition: opacity 0.3s ease, visibility 0s linear 0.3s;
			 pointer-events: none;
		 }

		 .page-modal.active {
			 opacity: 1;
			 visibility: visible;
			 transition: opacity 0.3s ease, visibility 0s linear 0s;
			 pointer-events: auto;
		 }

		 .page-modal-content {
			 position: relative;
			 width: 100%;
			 max-width: 1200px;
			 display: flex;
			 flex-direction: column;
			 align-items: center;
			 opacity: 0;
			 transform: scale(0.95);
			 transition: opacity 0.3s ease 0.05s, transform 0.3s ease 0.05s;
		 }

		 .page-modal.active .page-modal-content {
			 opacity: 1;
			 transform: scale(1);
		 }

		 .page-modal-close {
			 position: fixed;
			 top: 2rem;
			 left: 50%;
			 transform: translateX(-50%);
			 color: #6b5d4f;
			 font-size: clamp(1rem, 1.3vmin, 1.3rem);
			 font-weight: 300;
			 letter-spacing: clamp(1.5px, 0.3vmin, 3px);
			 text-transform: uppercase;
			 cursor: pointer;
			 padding: 10px 20px;
			 opacity: 0;
			 transition: opacity 0.3s ease 0.2s;
			 font-family: 'Helvetica Neue', 'Arial', sans-serif;
			 z-index: 10;
		 }

		 .page-modal.active .page-modal-close {
			 opacity: 1;
		 }

		 .page-modal-close:hover {
			 opacity: 0.7 !important;
		 }

		 /* About Modal Styles */
		 .about-modal-images {
			 display: flex;
			 width: 100%;
			 max-width: 700px;
			 gap: clamp(0.8rem, 2vmin, 2rem);
			 justify-content: center;
			 align-items: center;
			 margin-bottom: clamp(1.5rem, 3vmin, 3rem);
			 flex-direction: row;
		 }

		 .about-modal-images img {
			 width: auto;
			 height: auto;
			 max-width: 55svw;
			 max-height: 45svh;
			 aspect-ratio: 1 / 1;
			 object-fit: cover;
			 object-position: center;
			 border-radius: clamp(8px, 1.5vmin, 15px);
			 cursor: pointer;
			 transition: all 0.3s ease;
		 }

		 .about-modal-images img:hover {
			 opacity: 0.85;
			 transform: scale(1.03);
		 }

		 @media (hover: none) {
			 .about-modal-images img:active {
				 opacity: 0.85;
				 transform: scale(0.98);
			 }
		 }

		 .about-modal-text {
			 color: #6b5d4f;
			 font-size: clamp(1.1rem, 2.4vmin, 2rem);
			 line-height: 1.75;
			 letter-spacing: 0.5px;
			 text-align: center;
			 max-width: 900px;
		 }

		 .about-modal-text a {
			 color: #9d8b7a;
			 text-decoration: none;
			 transition: opacity 0.3s ease;
		 }

		 .about-modal-text a:hover {
			 opacity: 0.7;
		 }

		 /* Image Modal Styles */
		 .image-modal {
			 display: none;
			 position: fixed;
			 top: 0;
			 left: 0;
			 width: 100%;
			 height: 100%;
			 background: rgba(0, 0, 0, 0.9);
			 z-index: 1002;
			 justify-content: center;
			 align-items: center;
			 touch-action: pan-y;
		 }

		 .image-modal.active {
			 display: flex;
		 }

		 .image-modal-content {
			 position: relative;
			 max-width: 90%;
			 max-height: 90%;
			 display: flex;
			 flex-direction: column;
			 align-items: center;
		 }

		 .image-modal-close {
			 position: absolute;
			 top: -6vh;
			 left: 0;
			 color: #f9f3ea;
			 font-size: 1rem;
			 font-weight: 300;
			 letter-spacing: 1px;
			 cursor: pointer;
			 padding: 10px 20px;
			 transition: opacity 0.3s ease;
			 font-family: 'Helvetica Neue', 'Arial', sans-serif;
		 }

		 .image-modal-close:hover {
			 opacity: 0.7;
		 }

		 #modalImage {
			 max-width: 100%;
			 max-height: 85vh;
			 object-fit: contain;
			 border-radius: 8px;
		 }

		 /* Location Modal Styles */
		 .location-modal-content-inner {
			 width: 100%;
			 max-width: 900px;
		 }

		 .scroll-container {
			 overflow-y: auto;
			 max-height: 70vh;
			 position: relative;
			 padding-bottom: 0.5rem;
		 }

		 .scroll-container::-webkit-scrollbar {
			 width: 8px;
		 }

		 .scroll-container::-webkit-scrollbar-track {
			 background: rgba(157, 139, 122, 0.15);
			 border-radius: 10px;
		 }

		 .scroll-container::-webkit-scrollbar-thumb {
			 background: rgba(157, 139, 122, 0.4);
			 border-radius: 10px;
			 transition: background 0.3s ease;
		 }

		 .scroll-container::-webkit-scrollbar-thumb:hover {
			 background: rgba(157, 139, 122, 0.6);
		 }

		 .scroll-container {
			 scrollbar-width: thin;
			 scrollbar-color: rgba(157, 139, 122, 0.4) rgba(157, 139, 122, 0.15);
		 }

		 .calendar-grid {
			 display: flex;
			 flex-direction: column;
			 gap: clamp(0.6rem, 1vmin, 1rem);
		 }

		 .calendar-day-header {
			 text-align: center;
			 color: #031602;
			 opacity: 0.5;
			 font-size: clamp(1.1rem, 1.6vmin, 1.6rem);
			 font-weight: 600;
			 letter-spacing: clamp(0.8px, 0.15vmin, 1.5px);
			 text-transform: uppercase;
			 padding: clamp(0.4rem, 0.6vmin, 0.6rem) 0 clamp(0.3rem, 0.4vmin, 0.4rem) 0;
			 border-bottom: 1px solid rgba(157, 139, 122, 0.3);
		 }

		 .calendar-date {
			 background: rgba(255, 255, 255, 0.3);
			 border-radius: clamp(8px, 1.2vmin, 12px);
			 min-height: auto;
			 padding: clamp(0.8rem, 1.2vmin, 1.2rem);
			 display: flex;
			 flex-direction: column;
			 gap: clamp(0.4rem, 0.6vmin, 0.6rem);
			 transition: all 0.3s ease;
			 text-align: center;
		 }

		 .calendar-date:hover {
			 background: rgba(255, 255, 255, 0.5);
		 }

		 .calendar-date.has-class {
			 background: rgba(157, 139, 122, 0.15);
		 }

		 .calendar-date.has-class:hover {
			 background: rgba(157, 139, 122, 0.25);
		 }

		 .class-info {
			 font-size: clamp(1.1rem, 1.5vmin, 1.5rem);
			 color: #6b5d4f;
			 line-height: 1.5;
			 letter-spacing: 0.3px;
		 }

		 .class-time {
			 font-weight: 600;
			 color: #9d8b7a;
			 font-size: clamp(1.05rem, 1.4vmin, 1.3rem);
		 }

		 .class-title {
			 margin-top: clamp(0.15rem, 0.2vmin, 0.2rem);
			 font-weight: 500;
		 }

		 .class-title a {
			 color: #6b5d4f;
			 text-decoration: none;
			 transition: opacity 0.3s ease;
		 }

		 .class-title a:hover {
			 opacity: 0.7;
		 }

		 .class-description {
			 margin-top: clamp(0.4rem, 0.5vmin, 0.5rem);
			 font-size: clamp(1rem, 1.3vmin, 1.2rem);
			 color: #4a5a68;
		 }

		 .class-description a {
			 color: #4a5a68;
			 text-decoration: underline;
			 cursor: pointer;
			 transition: color 0.3s ease;
		 }

		 .class-description a:hover {
			 color: #5f7588;
		 }

		 .class-canceled {
			 margin-top: clamp(0.4rem, 0.5vmin, 0.5rem);
			 font-size: clamp(0.85rem, 1.15vmin, 1.0rem);
			 color: #c65d47;
			 opacity: 0.7;
			 font-weight: 600;
			 letter-spacing: clamp(0.8px, 0.15vmin, 1.5px);
			 text-transform: uppercase;
		 }

		 .class-separator {
			 margin: clamp(0.4rem, 0.6vmin, 0.6rem) 0;
			 border-top: 1px solid rgba(107, 93, 79, 0.2);
		 }

		 .scroll-indicator {
			 display: flex;
			 justify-content: center;
			 cursor: pointer;
			 opacity: 0.6;
			 transition: opacity 0.3s ease;
		 }

		 .scroll-indicator:hover {
			 opacity: 1;
		 }

		 .scroll-indicator svg {
			 width: clamp(28px, 3.5vmin, 35px);
			 height: clamp(28px, 3.5vmin, 35px);
			 stroke: #9d8b7a;
			 stroke-width: 2;
			 fill: none;
		 }

		 .scroll-indicator.hidden {
			 opacity: 0;
			 pointer-events: none;
		 }

		 .scroll-up-indicator {
			 margin-bottom: clamp(0.5rem, 0.8vmin, 0.8rem);
		 }

		 .scroll-down-indicator {
			 margin-top: clamp(0.6rem, 1vmin, 1rem);
		 }

		 .scroll-down-indicator:not(.hidden) {
			 animation: bounceDown 2s ease-in-out infinite;
		 }

		 .scroll-down-indicator:hover,
		 .scroll-up-indicator:hover {
			 animation: none;
		 }

		 @keyframes bounceDown {
			 0%, 100% {
				 transform: translateY(0);
			 }
			 50% {
				 transform: translateY(-8px);
			 }
		 }

		 /* Contact Modal Styles */
		 .contact-modal-content-inner {
			 display: flex;
			 flex-direction: column;
			 align-items: center;
			 gap: clamp(2rem, 4vmin, 4rem);
			 width: 100%;
			 max-width: 800px;
		 }

		 .contact-text {
			 color: rgba(25, 7, 0, 0.4);
			 font-size: clamp(1.3rem, 2.2vmin, 2rem);
			 letter-spacing: 0.5px;
			 line-height: 1.8;
			 font-weight: 300;
			 text-align: center;
		 }

		 .contact-label {
			 font-weight: 500;
			 letter-spacing: clamp(0.8px, 0.18vmin, 1.8px);
			 font-size: clamp(1.8rem, 3vmin, 3rem);
			 color: #9d8b7a;
			 line-height: 1.4;
			 cursor: pointer;
			 transition: opacity 0.3s ease;
		 }

		 .contact-label:hover {
			 opacity: 0.7;
		 }

		 .toast {
			 position: fixed;
			 bottom: 2rem;
			 left: 50%;
			 transform: translateX(-50%) translateY(100px);
			 background: rgba(107, 93, 79, 0.95);
			 color: #f9f3ea;
			 padding: clamp(0.75rem, 1.2vmin, 1.2rem) clamp(1.5rem, 2.5vmin, 2.5rem);
			 border-radius: clamp(8px, 1.2vmin, 12px);
			 font-family: 'Helvetica Neue', 'Arial', sans-serif;
			 font-size: clamp(0.9rem, 1.2vmin, 1.2rem);
			 font-weight: 300;
			 letter-spacing: 0.5px;
			 z-index: 2000;
			 opacity: 0;
			 transition: all 0.3s ease;
			 pointer-events: none;
			 box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
		 }

		 .toast.show {
			 opacity: 1;
			 transform: translateX(-50%) translateY(0);
		 }

		 @media (max-width: 1024px) {
			 .about-modal-text {
				 font-size: clamp(1.3rem, 2.9vmin, 1.9rem);
			 }

			 .nav-link {
				 font-size: clamp(1.4rem, 3.2vmin, 2.4rem);
			 }
		 }

		 @media (max-width: 768px) {
			 .page-modal {
				 padding: 1.5rem;
				 padding-top: 4.5rem;
			 }

			 .page-modal-close {
				 top: 1.5rem;
				 font-size: clamp(0.95rem, 1.2vmin, 1.2rem);
			 }

			 .about-modal-text {
				 font-size: clamp(1rem, 2.5vmin, 1.6rem);
			 }

			 .scroll-container {
				 max-height: 65vh;
			 }

			 .contact-text {
				 font-size: clamp(1.1rem, 2vmin, 1.8rem);
			 }

			 .contact-label {
				 font-size: clamp(1.5rem, 2.6vmin, 2.6rem);
			 }

			 .nav-link {
				 font-size: clamp(1.2rem, 2.6vmin, 2rem);
			 }
		 }

		 @media (max-width: 480px) {
			 .page-modal {
				 padding: 1rem;
				 padding-top: 4rem;
			 }

			 .page-modal-close {
				 top: 1rem;
				 font-size: clamp(0.85rem, 1.1vmin, 1.1rem);
				 padding: 8px 16px;
			 }

			 .about-modal-text {
				 font-size: clamp(0.95rem, 2.8vmin, 1.5rem);
				 line-height: 1.65;
			 }

			 .calendar-day-header {
				 font-size: clamp(0.9rem, 1.3vmin, 1.3rem);
			 }

			 .class-info {
				 font-size: clamp(0.85rem, 1.2vmin, 1.2rem);
			 }

			 .class-time {
				 font-size: clamp(0.9rem, 1.25vmin, 1.15rem);
			 }

			 .class-description {
				 font-size: clamp(0.8rem, 1.1vmin, 1rem);
			 }

			 .scroll-container {
				 max-height: 60vh;
			 }

			 .contact-text {
				 font-size: clamp(0.95rem, 1.8vmin, 1.5rem);
			 }

			 .contact-label {
				 font-size: clamp(1.3rem, 2.2vmin, 2.2rem);
			 }

			 .contact-modal-content-inner {
				 gap: clamp(1.5rem, 3vmin, 3rem);
			 }

			 .nav-link {
				 font-size: clamp(1rem, 2.4vmin, 1.8rem);
			 }
		 }
		</style>
	</head>
	<body>
		<div class="container">
			<div class="site-name" id="siteName">
				<span class="name">Natasha Goodwin</span>
				<span class="yoga">Yoga</span>
			</div>
			
			<div class="sun-circle" id="sunCircle">
				<div class="welcome-text">
					<h1>I'm so glad<br>you're here</h1>
				</div>

				<nav class="nav-links">
					<a class="nav-link" data-section="about">About</a>
					<a class="nav-link" data-section="location">Practice</a>
					<a class="nav-link" data-section="contact">Connect</a>
				</nav>
			</div>

			<!-- About Modal -->
			<div class="page-modal" id="aboutModal">
				<div class="page-modal-close" id="aboutModalClose">[HOME]</div>
				<div class="page-modal-content">
					<div class="about-modal-images">
						<img src="about.JPG" alt="About Natasha" class="clickable-about-image">
					</div>
					<p class="about-modal-text">
						Hi — I'm Natasha, and yoga found its way to my heart in Portland, Oregon in 2021. After quickly realizing its healing potential, I committed to life-long study and practice of the ancient wisdom. Most inspired by my teachers at the <a href="https://thebymc.com" target="_blank">Bhakti Yoga Movement Center</a>, my practice is deeply rooted in loving devotion. As a teacher, my intention is to share the gift of yoga to bring us together. If you want to join hands in community, I'd love to practice with you.
					</p>
				</div>
			</div>

			<!-- Image Modal -->
			<div class="image-modal" id="imageModal">
				<div class="image-modal-content">
					<div class="image-modal-close" id="imageModalClose">← Back</div>
					<img src="" alt="" id="modalImage">
				</div>
			</div>

			<!-- Location Modal -->
			<div class="page-modal" id="locationModal">
				<div class="page-modal-close" id="locationModalClose">[HOME]</div>
				<div class="page-modal-content">
					<div class="location-modal-content-inner">
						<div class="scroll-indicator scroll-up-indicator hidden" id="scrollUpIndicator">
							<svg viewBox="0 0 24 24">
								<polyline points="18 15 12 9 6 15"></polyline>
							</svg>
						</div>
						<div class="scroll-container" id="scrollContainer">
							<div class="calendar-grid" id="calendarGrid">
								<!-- Calendar will be generated by JavaScript -->
							</div>
						</div>
						<div class="scroll-indicator scroll-down-indicator" id="scrollDownIndicator">
							<svg viewBox="0 0 24 24">
								<polyline points="6 9 12 15 18 9"></polyline>
							</svg>
						</div>
					</div>
				</div>
			</div>

			<!-- Contact Modal -->
			<div class="page-modal" id="contactModal">
				<div class="page-modal-close" id="contactModalClose">[HOME]</div>
				<div class="page-modal-content">
					<div class="contact-modal-content-inner">
						<span class="contact-text">For all yoga-related inquires, email me at:</span>
						<div class="contact-label" id="contactEmail">
							<span>natashagoodwinyoga@gmail.com</span>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Toast notification -->
		<div class="toast" id="toast">Email copied</div>

		<script>
		 // ===== CONFIGURATION =====
		 // Replace these with your actual values
		 const GOOGLE_API_KEY = 'AIzaSyDYxWRGNWdwZEoRI7_AJhwCX3dk-59vy1U';
		 const CALENDAR_ID = 'natashagoodwinyoga@gmail.com';
		 
		 const DAYS = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
		 const MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
		 const EMAIL_ADDRESS = 'natashagoodwinyoga@gmail.com';

		 // Format time from Date object
		 function formatTime(date) {
			 if (!date) return '';
			 
			 let hours = date.getHours();
			 const minutes = date.getMinutes();
			 const ampm = hours >= 12 ? 'pm' : 'am';
			 
			 hours = hours % 12;
			 hours = hours ? hours : 12;
			 const minutesStr = minutes < 10 ? '0' + minutes : minutes;
			 
			 return `${hours}:${minutesStr}${ampm}`;
		 }

		 // Check if event is cancelled based on title
		 function isEventCancelled(summary) {
			 if (!summary) return false;
			 return summary.toLowerCase().startsWith('canceled:') || summary.toLowerCase().startsWith('cancelled:');
		 }

		 // Remove "Canceled:" or "Cancelled:" prefix from title
		 function cleanEventTitle(summary) {
			 if (!summary) return '';
			 if (summary.toLowerCase().startsWith('canceled:')) {
				 return summary.substring(9).trim();
			 }
			 if (summary.toLowerCase().startsWith('cancelled:')) {
				 return summary.substring(10).trim();
			 }
			 return summary;
		 }

		 // Process description HTML content
		 function processDescription(description) {
			 if (!description) return '';
			 
			 // Replace newlines with <br> for display
			 let text = description.replace(/\n/g, '<br>');
			 
			 return text;
		 }

		 // Fetch events from Google Calendar API
		 async function fetchCalendarEvents() {
			 try {
				 console.log('Fetching calendar data from Google Calendar API');
				 
				 const now = new Date();
				 const thirtyDaysLater = new Date();
				 thirtyDaysLater.setDate(now.getDate() + 30);
				 
				 // Format dates for API (RFC3339)
				 const timeMin = now.toISOString();
				 const timeMax = thirtyDaysLater.toISOString();
				 
				 const url = `https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(CALENDAR_ID)}/events?key=${GOOGLE_API_KEY}&timeMin=${timeMin}&timeMax=${timeMax}&singleEvents=true&orderBy=startTime`;
				 
				 const response = await fetch(url);
				 
				 if (!response.ok) {
					 throw new Error(`API request failed: ${response.status}`);
				 }
				 
				 const data = await response.json();
				 
				 console.log('Events fetched:', data.items?.length || 0);
				 
				 // Transform API response to our event format
				 const events = (data.items || []).map(item => {
					 // Parse start and end times
					 let start = null;
					 let end = null;
					 
					 if (item.start.dateTime) {
						 start = new Date(item.start.dateTime);
					 } else if (item.start.date) {
						 start = new Date(item.start.date + 'T00:00:00');
					 }
					 
					 if (item.end.dateTime) {
						 end = new Date(item.end.dateTime);
					 } else if (item.end.date) {
						 end = new Date(item.end.date + 'T00:00:00');
					 }
					 
					 return {
						 summary: item.summary || '',
						 location: item.location || '',
						 description: item.description || '',
						 start: start,
						 end: end,
						 status: item.status || 'confirmed'
					 };
				 });
				 
				 return events;
			 } catch (error) {
				 console.error('Error fetching calendar events:', error);
				 showToast('Error loading calendar');
				 return [];
			 }
		 }

		 // Generate calendar from API events
		 async function generateCalendar() {
			 const calendarGrid = document.getElementById('calendarGrid');
			 calendarGrid.innerHTML = '<div class="class-info">Loading calendar...</div>';
			 
			 const events = await fetchCalendarEvents();
			 
			 if (events.length === 0) {
				 calendarGrid.innerHTML = '<div class="class-info">No upcoming classes scheduled.</div>';
				 return;
			 }
			 
			 calendarGrid.innerHTML = '';
			 
			 const eventsByDate = {};
			 
			 events.forEach(event => {
				 // Skip cancelled events
				 if (event.status === 'cancelled') {
					 return;
				 }
				 
				 if (!event.start) return;
				 
				 const startDate = new Date(event.start);
				 const dateKey = startDate.toISOString().split('T')[0];
				 
				 if (!eventsByDate[dateKey]) {
					 eventsByDate[dateKey] = [];
				 }
				 
				 eventsByDate[dateKey].push(event);
			 });
			 
			 const sortedDates = Object.keys(eventsByDate).sort();
			 
			 sortedDates.forEach(dateKey => {
				 const dateEvents = eventsByDate[dateKey];
				 const currentDate = new Date(dateKey + 'T12:00:00');
				 const dayOfWeek = currentDate.getDay();
				 
				 const header = document.createElement('div');
				 header.className = 'calendar-day-header';
				 const dateStr = `${DAYS[dayOfWeek]}, ${MONTHS[currentDate.getMonth()]} ${currentDate.getDate()}`;
				 header.textContent = dateStr;
				 calendarGrid.appendChild(header);
				 
				 const dateDiv = document.createElement('div');
				 dateDiv.className = 'calendar-date has-class';
				 
				 dateEvents.forEach((event, index) => {
					 if (index > 0) {
						 const separator = document.createElement('div');
						 separator.className = 'class-separator';
						 dateDiv.appendChild(separator);
					 }
					 
					 const isCancelled = isEventCancelled(event.summary);
					 
					 const classInfoDiv = document.createElement('div');
					 classInfoDiv.className = 'class-info';
					 
					 // Time
					 const timeDiv = document.createElement('div');
					 timeDiv.className = 'class-time';
					 
					 if (event.start && event.end) {
						 const startTime = formatTime(event.start);
						 const endTime = formatTime(event.end);
						 timeDiv.textContent = `${startTime}-${endTime}`;
					 } else {
						 timeDiv.textContent = 'All day';
					 }
					 
					 classInfoDiv.appendChild(timeDiv);
					 
					 // Title (with link to location if available)
					 const titleDiv = document.createElement('div');
					 titleDiv.className = 'class-title';
					 
					 const cleanTitle = cleanEventTitle(event.summary);
					 
					 if (event.location) {
						 const locationLink = document.createElement('a');
						 locationLink.href = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(event.location)}`;
						 locationLink.target = '_blank';
						 locationLink.textContent = cleanTitle;
						 titleDiv.appendChild(locationLink);
					 } else {
						 titleDiv.textContent = cleanTitle;
					 }
					 
					 classInfoDiv.appendChild(titleDiv);
					 
					 // Description (preserve HTML formatting including hyperlinks)
					 if (event.description && event.description.trim()) {
						 const descDiv = document.createElement('div');
						 descDiv.className = 'class-description';
						 
						 // Process and display HTML content from description
						 descDiv.innerHTML = processDescription(event.description);
						 
						 // Ensure all links open in new tab
						 const links = descDiv.querySelectorAll('a');
						 links.forEach(link => {
							 if (!link.hasAttribute('target')) {
								 link.setAttribute('target', '_blank');
							 }
						 });
						 
						 classInfoDiv.appendChild(descDiv);
					 }
					 
					 // Show canceled status if applicable
					 if (isCancelled) {
						 const canceledDiv = document.createElement('div');
						 canceledDiv.className = 'class-canceled';
						 canceledDiv.textContent = 'Canceled';
						 classInfoDiv.appendChild(canceledDiv);
					 }
					 
					 dateDiv.appendChild(classInfoDiv);
				 });
				 
				 calendarGrid.appendChild(dateDiv);
			 });
		 }

		 // Modal management
		 const sunCircle = document.getElementById('sunCircle');
		 const siteName = document.getElementById('siteName');
		 const navLinks = document.querySelectorAll('.nav-link');

		 const aboutModal = document.getElementById('aboutModal');
		 const locationModal = document.getElementById('locationModal');
		 const contactModal = document.getElementById('contactModal');

		 const aboutModalClose = document.getElementById('aboutModalClose');
		 const locationModalClose = document.getElementById('locationModalClose');
		 const contactModalClose = document.getElementById('contactModalClose');

		 const scrollContainer = document.getElementById('scrollContainer');
		 const scrollUpIndicator = document.getElementById('scrollUpIndicator');
		 const scrollDownIndicator = document.getElementById('scrollDownIndicator');

		 function openModal(modal) {
			 sunCircle.classList.add('hidden-by-modal');
			 siteName.classList.add('hidden-by-modal');
			 modal.classList.add('active');
			 
			 if (modal === locationModal) {
				 scrollContainer.scrollTop = 0;
				 updateScrollIndicators();
			 }
		 }

		 function closeModal(modal) {
			 modal.classList.remove('active');
			 sunCircle.classList.remove('hidden-by-modal');
			 siteName.classList.remove('hidden-by-modal');
		 }

		 function showToast(message = 'Email copied') {
			 const toast = document.getElementById('toast');
			 toast.textContent = message;
			 toast.classList.add('show');
			 setTimeout(() => {
				 toast.classList.remove('show');
			 }, 2000);
		 }

		 // Navigation
		 navLinks.forEach(link => {
			 link.addEventListener('click', (e) => {
				 e.preventDefault();
				 const section = link.getAttribute('data-section');
				 
				 if (section === 'about') {
					 openModal(aboutModal);
				 } else if (section === 'location') {
					 openModal(locationModal);
				 } else if (section === 'contact') {
					 openModal(contactModal);
				 }
			 });
		 });

		 // Close buttons
		 aboutModalClose.addEventListener('click', () => closeModal(aboutModal));
		 locationModalClose.addEventListener('click', () => closeModal(locationModal));
		 contactModalClose.addEventListener('click', () => closeModal(contactModal));

		 // Site name click to go home
		 siteName.addEventListener('click', () => {
			 closeModal(aboutModal);
			 closeModal(locationModal);
			 closeModal(contactModal);
		 });

		 // Click outside to close
		 [aboutModal, locationModal, contactModal].forEach(modal => {
			 modal.addEventListener('click', (e) => {
				 if (e.target === modal) {
					 closeModal(modal);
				 }
			 });
		 });

		 // Scroll indicators
		 function updateScrollIndicators() {
			 if (scrollContainer.scrollHeight > scrollContainer.clientHeight) {
				 const isAtTop = scrollContainer.scrollTop <= 10;
				 const isAtBottom = scrollContainer.scrollTop + scrollContainer.clientHeight >= scrollContainer.scrollHeight - 10;
				 
				 if (isAtTop) {
					 scrollUpIndicator.classList.add('hidden');
				 } else {
					 scrollUpIndicator.classList.remove('hidden');
				 }
				 
				 if (isAtBottom) {
					 scrollDownIndicator.classList.add('hidden');
				 } else {
					 scrollDownIndicator.classList.remove('hidden');
				 }
			 } else {
				 scrollUpIndicator.classList.add('hidden');
				 scrollDownIndicator.classList.add('hidden');
			 }
		 }

		 scrollDownIndicator.addEventListener('click', () => {
			 const scrollAmount = scrollContainer.clientHeight * 0.6;
			 scrollContainer.scrollBy({
				 top: scrollAmount,
				 behavior: 'smooth'
			 });
		 });

		 scrollUpIndicator.addEventListener('click', () => {
			 const scrollAmount = scrollContainer.clientHeight * 0.6;
			 scrollContainer.scrollBy({
				 top: -scrollAmount,
				 behavior: 'smooth'
			 });
		 });

		 scrollContainer.addEventListener('scroll', updateScrollIndicators);

		 // Contact email copy
		 const contactEmail = document.getElementById('contactEmail');
		 contactEmail.addEventListener('click', () => {
			 navigator.clipboard.writeText('natashagoodwinyoga@gmail.com');
			 showToast();
		 });

		 // Image modal functionality
		 const imageModal = document.getElementById('imageModal');
		 const modalImage = document.getElementById('modalImage');
		 const imageModalClose = document.getElementById('imageModalClose');
		 const clickableAboutImages = document.querySelectorAll('.clickable-about-image');

		 let touchStartX = 0;
		 let touchStartY = 0;
		 let touchEndX = 0;
		 let touchEndY = 0;

		 clickableAboutImages.forEach(img => {
			 img.addEventListener('click', () => {
				 modalImage.src = img.src;
				 modalImage.alt = img.alt;
				 imageModal.classList.add('active');
			 });
		 });

		 imageModalClose.addEventListener('click', () => {
			 imageModal.classList.remove('active');
		 });

		 imageModal.addEventListener('click', (e) => {
			 if (e.target === imageModal) {
				 imageModal.classList.remove('active');
			 }
		 });

		 // Touch event handlers for swipe gesture
		 imageModal.addEventListener('touchstart', (e) => {
			 touchStartX = e.changedTouches[0].screenX;
			 touchStartY = e.changedTouches[0].screenY;
		 });

		 imageModal.addEventListener('touchend', (e) => {
			 touchEndX = e.changedTouches[0].screenX;
			 touchEndY = e.changedTouches[0].screenY;
			 handleImageSwipe();
		 });

		 function handleImageSwipe() {
			 const deltaX = touchEndX - touchStartX;
			 const deltaY = touchEndY - touchStartY;
			 
			 if (Math.abs(deltaX) > Math.abs(deltaY)) {
				 if (deltaX > 50) {
					 imageModal.classList.remove('active');
				 }
			 }
		 }

		 // Update escape key handler to include image modal
		 document.addEventListener('keydown', (e) => {
			 if (e.key === 'Escape') {
				 if (imageModal.classList.contains('active')) {
					 imageModal.classList.remove('active');
				 } else if (aboutModal.classList.contains('active')) {
					 closeModal(aboutModal);
				 } else if (locationModal.classList.contains('active')) {
					 closeModal(locationModal);
				 } else if (contactModal.classList.contains('active')) {
					 closeModal(contactModal);
				 }
			 }
		 });

		 // Initialize all functionality when DOM is ready
		 function init() {
			 // Fetch calendar when location modal opens
			 const observer = new MutationObserver((mutations) => {
				 mutations.forEach((mutation) => {
					 if (mutation.attributeName === 'class') {
						 if (locationModal.classList.contains('active')) {
							 generateCalendar();
						 }
					 }
				 });
			 });
			 
			 observer.observe(locationModal, { attributes: true });
			 
			 // Also fetch calendar on initial page load (for caching)
			 generateCalendar();
		 }

		 // Run init when DOM is ready
		 if (document.readyState === 'loading') {
			 document.addEventListener('DOMContentLoaded', init);
		 } else {
			 init();
		 }
		</script>
	</body>
</html>
